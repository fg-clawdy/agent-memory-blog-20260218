{
  "projectName": "agent-memory-blog",
  "branchName": "feature/agent-memory-blog",
  "description": "A-Team's institutional memory system with REST API and admin portal",
  "techStack": {
    "frontend": "Next.js 14 App Router",
    "backend": "Next.js API Routes",
    "database": "Vercel Postgres",
    "auth": "NextAuth.js",
    "deployment": "Vercel"
  },
  "userStories": [
    {
      "id": "story-001",
      "title": "Initialize Next.js project with TypeScript",
      "description": "Initialize Next.js 14 with App Router, TypeScript, Tailwind CSS, and ESLint",
      "acceptanceCriteria": [
        "npx create-next-app@latest runs successfully",
        "TypeScript strict mode enabled",
        "Tailwind CSS configured and working",
        "ESLint with recommended rules",
        "Git repository initialized"
      ],
      "dependencies": [],
      "estimatedComplexity": "low",
      "passes": true
    },
    {
      "id": "story-002",
      "title": "Set up Vercel Postgres and database schema",
      "description": "Create PostgreSQL schema for memory_entries, api_tokens, and admin_users tables",
      "acceptanceCriteria": [
        "Vercel Postgres provisioned",
        "Migration file with all three tables",
        "Indexes on agent, date, tags, project_id",
        "Seed data for initial admin user"
      ],
      "dependencies": ["story-001"],
      "estimatedComplexity": "medium",
      "passes": true
    },
    {
      "id": "story-003",
      "title": "Configure NextAuth.js with credentials provider",
      "description": "Set up NextAuth for admin login with aja@ateam.local",
      "acceptanceCriteria": [
        "NextAuth.js installed and configured",
        "Credentials provider for admin login",
        "Session management working",
        "Protected /admin routes"
      ],
      "dependencies": ["story-002"],
      "estimatedComplexity": "medium",
      "passes": true
    },
    {
      "id": "story-004",
      "title": "Implement API token authentication",
      "description": "Create middleware/logic to validate Bearer tokens for API endpoints",
      "acceptanceCriteria": [
        "Token validation middleware",
        "Token hashing with SHA-256",
        "401 response for invalid/missing tokens",
        "Token usage tracking (last_used_at)"
      ],
      "dependencies": ["story-002"],
      "estimatedComplexity": "medium",
      "passes": true
    },
    {
      "id": "story-005",
      "title": "Implement POST /api/posts endpoint",
      "description": "Create API endpoint for agents to submit memory entries",
      "acceptanceCriteria": [
        "Validates required fields",
        "Inserts into memory_entries table",
        "Returns created entry with 201",
        "Returns 400 for invalid data"
      ],
      "dependencies": ["story-004"],
      "estimatedComplexity": "medium",
      "passes": true
    },
    {
      "id": "story-006",
      "title": "Implement GET /api/posts with filtering",
      "description": "List memory entries with support for tag, agent, and date range filters",
      "acceptanceCriteria": [
        "Returns list of entries",
        "Filter by tag (array contains)",
        "Filter by agent",
        "Filter by date range (start/end)",
        "Pagination support"
      ],
      "dependencies": ["story-005"],
      "estimatedComplexity": "medium",
      "passes": true
    },
    {
      "id": "story-007",
      "title": "Implement GET /api/posts/:id and /search",
      "description": "Single entry retrieval and keyword search",
      "acceptanceCriteria": [
        "GET /api/posts/:id returns entry or 404",
        "GET /api/posts/search?q= performs ILIKE search on title, summary, lessons_learned"
      ],
      "dependencies": ["story-006"],
      "estimatedComplexity": "low",
      "passes": true
    },
    {
      "id": "story-008",
      "title": "Build admin portal entry listing",
      "description": "Create admin page to view all memory entries in readable format",
      "acceptanceCriteria": [
        "Admin-only page at /admin/entries",
        "Shows all entries in nice card/table layout",
        "Read-only (no edit/delete for entries)"
      ],
      "dependencies": ["story-003"],
      "estimatedComplexity": "medium",
      "passes": true
    },
    {
      "id": "story-009",
      "title": "Build admin token management",
      "description": "Create admin pages for managing API tokens",
      "acceptanceCriteria": [
        "List all tokens with metadata",
        "Create new token with name and optional agent tag",
        "Revoke tokens (soft delete)",
        "Show created date and last used"
      ],
      "dependencies": ["story-008"],
      "estimatedComplexity": "medium",
      "passes": true
    },
    {
      "id": "story-010",
      "title": "Implement password change functionality",
      "description": "Allow admin to change their password",
      "acceptanceCriteria": [
        "Form to enter current password",
        "Form to enter new password (with confirmation)",
        "Validates current password before change",
        "Updates password_hash with bcrypt",
        "Forces password change on first login (default pw)"
      ],
      "dependencies": ["story-003"],
      "estimatedComplexity": "low",
      "passes": true
    },
    {
      "id": "story-011",
      "title": "Deploy to Vercel",
      "description": "Deploy the application to production",
      "acceptanceCriteria": [
        "Vercel project created",
        "Environment variables configured",
        "Deployed to production",
        "All endpoints tested"
      ],
      "dependencies": ["story-010"],
      "estimatedComplexity": "low",
      "passes": true
    }
  ]
}
